

 <section id="product-details">
	<h3 id="bundle_title">Your Bundle</h3>
	<h4 class="nmb"><span id="bundle_price">$36.00</span><span class="strikethrough" id="bundle_compare_at_price"> $54.00</span></h4>
	<h4 class="text-green nm"><span id="bundle_savings">33%</span> Bundles Savings!</h4>
	<p class="subscript">Based on your answers, your closet needs <span id="bundle_description"></span></p>
   <select id="custom-pack-size" class="fw">
     <option value="small">small</option>
     <option value="medium" selected>medium</option>
     <option value="large">large</option>
   </select> 
   <section id="bundle_flats" class="flex-container-no" style="display: none;">
   	 <img src="{{'Icon-ballet-results.png' | asset_url }}" class="bundle-icon">
   	 <div class="bundle-color-selection black highlight" data-variant-id-medium="18247857860" data-variant-id-large="18247857988" data-variant-id-small="18247857668"></div>
   	 <div class="bundle-color-selection beige" data-variant-id="18247857924" data-variant-id-large="18247858052" data-variant-id-small="19347385476"></div>
   </section>
     <section id="bundle_flats2" class="flex-container-no" style="display: none;">
   	  <img src="{{'Icon-ballet-results.png' | asset_url }}" class="bundle-icon">
   	 <div class="bundle-color-selection black highlight" data-variant-id-medium="18247857860" data-variant-id-large="18247857988" data-variant-id-small="18247857668"></div>
   	 <div class="bundle-color-selection beige" data-variant-id="18247857924" data-variant-id-large="18247858052" data-variant-id-small="19347385476"></div>
   </section>
    <section id="bundle_flats3" class="flex-container-no" style="display: none;">
   	 <img src="{{'Icon-ballet-results.png' | asset_url }}" class="bundle-icon">
   	  <div class="bundle-color-selection black highlight" data-variant-id-medium="18247857860" data-variant-id-large="18247857988" data-variant-id-small="18247857668"></div>
   	 <div class="bundle-color-selection beige" data-variant-id="18247857924" data-variant-id-large="18247858052" data-variant-id-small="19347385476"></div>
   </section>
     <section id="bundle_flats4" class="flex-container-no" style="display: none;">
   	 <img src="{{'Icon-ballet-results.png' | asset_url }}" class="bundle-icon">
   	 <div class="bundle-color-selection black highlight" data-variant-id-medium="18247857860" data-variant-id-large="18247857988" data-variant-id-small="18247857668"></div>
   	 <div class="bundle-color-selection beige" data-variant-id="18247857924" data-variant-id-large="18247858052" data-variant-id-small="19347385476"></div>
   </section>
   <section id="bundle_wloafer" class="flex-container-no" style="display: none;">
   	 <img src="{{'Icon-loafers-results.png' | asset_url }}" class="bundle-icon">
   	 <div class="bundle-color-selection black highlight" data-variant-id-small="18250901828" data-variant-id-medium="18250902084" data-variant-id-large="18250902276"></div>
   	 <div class="bundle-color-selection rose" data-variant-id-small="31001775046733" data-variant-id-medium="31001775079501" data-variant-id-large="31001775112269"></div>
   	 <div class="bundle-color-selection green" data-variant-id-small="31001768788045" data-variant-id-medium="31001768984653" data-variant-id-large="31001769017421"></div>
   	 <div class="bundle-color-selection blue" data-variant-id-small="31001769410637" data-variant-id-medium="31001769443405" data-variant-id-large="31001769476173"></div>
   </section>
     <section id="bundle_wloafer2" class="flex-container-no" style="display: none;">
   	 <img src="{{'Icon-loafers-results.png' | asset_url }}" class="bundle-icon">
	 <div class="bundle-color-selection black highlight" data-variant-id-small="18250901828" data-variant-id-medium="18250902084" data-variant-id-large="18250902276"></div>
   	 <div class="bundle-color-selection rose" data-variant-id-small="31001775046733" data-variant-id-medium="31001775079501" data-variant-id-large="31001775112269"></div>
   	 <div class="bundle-color-selection green" data-variant-id-small="31001768788045" data-variant-id-medium="31001768984653" data-variant-id-large="31001769017421"></div>
   	 <div class="bundle-color-selection blue" data-variant-id-small="31001769410637" data-variant-id-medium="31001769443405" data-variant-id-large="31001769476173"></div>
   </section>
   <section id="bundle_wsneaker" class="flex-container-no"style="display: none;">
   	 <img src="{{'Icon-sneakers-results.png' | asset_url }}" class="bundle-icon">
   	 <div class="bundle-color-selection black highlight" data-variant-id-small="18250940100" data-variant-id-medium="18250940804" data-variant-id-large="18250941956"></div>
   	 <div class="bundle-color-selection rose" data-variant-id-small="31001784582221" data-variant-id-medium="31001784614989" data-variant-id-large="31001784647757"></div>
   	 <div class="bundle-color-selection green" data-variant-id-small="31001784057933" data-variant-id-medium="31001784090701" data-variant-id-large="31001784320077"></div>
   	 <div class="bundle-color-selection blue" data-variant-id-small="31001784877133" data-variant-id-medium="31001784909901" data-variant-id-large="31001784942669"></div>
   </section>
    <section id="bundle_wsneaker2" class="flex-container-no"style="display: none;">
   	 <img src="{{'Icon-sneakers-results.png' | asset_url }}" class="bundle-icon">
	 <div class="bundle-color-selection black highlight" data-variant-id-small="18250940100" data-variant-id-medium="18250940804" data-variant-id-large="18250941956"></div>
   	 <div class="bundle-color-selection rose" data-variant-id-small="31001784582221" data-variant-id-medium="31001784614989" data-variant-id-large="31001784647757"></div>
   	 <div class="bundle-color-selection green" data-variant-id-small="31001784057933" data-variant-id-medium="31001784090701" data-variant-id-large="31001784320077"></div>
   	 <div class="bundle-color-selection blue" data-variant-id-small="31001784877133" data-variant-id-medium="31001784909901" data-variant-id-large="31001784942669"></div>
   </section>
   <section id="bundle_heels" class="flex-container-no" style="display: none;">
   	 <img src="{{'Gekks-Icon-Heels-Socks.png' | asset_url }}" class="bundle-icon">
   	  <div class="bundle-color-selection black highlight" data-variant-id-medium="702715527185" data-variant-id-large="702715592721" data-variant-id-small="702715461649"></div>
      <div class="bundle-color-selection beige" data-variant-id-medium="702715559953" data-variant-id-large="702715625489" data-variant-id-small="702715494417"></div>
   </section>
   <section id="bundle_heels2" class="flex-container-no" style="display: none;">
   	 <img src="{{'Gekks-Icon-Heels-Socks.png' | asset_url }}" class="bundle-icon">
   	  <div class="bundle-color-selection black highlight" data-variant-id-medium="702715527185" data-variant-id-large="702715592721" data-variant-id-small="702715461649"></div>
      <div class="bundle-color-selection beige" data-variant-id-medium="702715559953" data-variant-id-large="702715625489" data-variant-id-small="702715494417"></div>
   </section>
   <section id="bundle_mloafer" class="flex-container-no" style="display: none;">
   	 <img src="{{'Icon-loafers-results.png' | asset_url}}" class="bundle-icon">
   	  <div class="bundle-color-selection black highlight" data-variant-id-small="18249609860" data-variant-id-medium="18249610628" data-variant-id-large="18249611396"></div>
   	  <div class="bundle-color-selection green" data-variant-id-small="31001863848013" data-variant-id-medium="31001863880781" data-variant-id-large="31001863913549"></div>
   	  <div class="bundle-color-selection blue" data-variant-id-small="31001864142925" data-variant-id-medium="31001864175693" data-variant-id-large="31001864208461"></div>
   </section>
    <section id="bundle_mloafer2" class="flex-container-no" style="display: none;">
   	 <img src="{{'Icon-loafers-results.png' | asset_url}}" class="bundle-icon">
   	  <div class="bundle-color-selection black highlight"></div>
   	  <div class="bundle-color-selection green"></div>
   	  <div class="bundle-color-selection blue"></div>
   </section>
   <section id="bundle_msneaker" class="flex-container-no" style="display: none;">
   	 <img src="{{'Icon-sneakers-results.png' | asset_url}}" class="bundle-icon">
   	  <div class="bundle-color-selection black highlight" data-variant-id-small="18249077252" data-variant-id-medium="18249078276" data-variant-id-large="18249079492"></div>
   	  <div class="bundle-color-selection green" data-variant-id-small="31001872400461" data-variant-id-medium="31001872433229" data-variant-id-large="31001872465997"></div>
   	  <div class="bundle-color-selection blue" data-variant-id-small="31001875152973" data-variant-id-medium="31001875185741" data-variant-id-large="31001875218509"></div>
   </section>
    <section id="bundle_msneaker2" class="flex-container-no" style="display: none;">
   	 <img src="{{'Icon-sneakers-results.png' | asset_url}}" class="bundle-icon">
   	   <div class="bundle-color-selection black highlight" data-variant-id-small="18249077252" data-variant-id-medium="18249078276" data-variant-id-large="18249079492"></div>
   	  <div class="bundle-color-selection green" data-variant-id-small="31001872400461" data-variant-id-medium="31001872433229" data-variant-id-large="31001872465997"></div>
   	  <div class="bundle-color-selection blue" data-variant-id-small="31001875152973" data-variant-id-medium="31001875185741" data-variant-id-large="31001875218509"></div>
   </section>
  <div id="add-cart-custom" class="background-green text-white clickable"><span>add to cart</span></div>
</section>

<style>
	#add-cart-custom { 
    padding: 10px;
    margin: 15px auto;
    text-align: center;
}
	#bundle_price { margin-right: 5px; }
	.rose { background-color: #ffe5e6; }
	.green { background-color: #0ad4c4; }
	.blue { background-color: #1c7baa; }
	.beige { background-color: #F9F2ED; }
	.black { background-color: #000; }
	.bundle-color-selection {
		width: 25px; 
		height: 25px; 
		border-radius: 100%; 
		cursor: pointer;
		margin-right: 10px;
		border: 2px solid white; 
	}
	.highlight {border: 2px solid darkgray;}
	.bundle-icon { max-width: 65px; margin-right: 10px; }
</style>
	
<script>
	var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
    }
};

	$('.bundle-color-selection').click(function() {
		$(this).addClass('highlight').siblings('.bundle-color-selection').removeClass('highlight'); 
	}); 

	var pack_id = getUrlParameter('pack')
	var title = ""
	var price = ""
	var savings = ""
	var description = ""
	var photo_collection = ""
	var mloafers = 0 
	switch (pack_id) {
		case "1":
			title = "The Trial Pack"
			price = "$48.00"
			compare_at = "$72.00"
			savings = "33%"
			description = "one flat, one heel, one loafer, and one sneaker."
			photo_collection = ""	
			$('#bundle_wloafer, #bundle_wsneaker, #bundle_flats, #bundle_heels').show()		
			break;
		case "2":
			title = "The Office Pack"
			price = "$48.00"
			compare_at = "$72.00"
			savings = "33%"
			description = "two flats and two heels."
			photo_collection = ""
			$('#bundle_flats, #bundle_flats2, #bundle_heels, #bundle_heels2').show(); 	
			break;
		case "3":
			title = "The Metropolitan Pack"
			price = "$48.00"
			compare_at = "$72.00"
			savings = "33%"
			description = "two flats, one loafer, and one sneaker."
			$('#bundle_flats, #bundle_flats2, #bundle_wloafer, #bundle_wsneaker').show(); 	
			photo_collection = ""
			break;
		case "4":
			title = "The Men’s Closet Pack"
			price = "$48.00"
			compare_at = "$72.00"
			savings = "33%"
			description = "two men's loafers, and two men's sneakers."
			$('#bundle_mloafer, #bundle_msneaker, #bundle_msneaker2, #bundle_mloafer2').show(); 
			photo_collection = ""
			break;
		case "5":
			title = "The Casual Pack"
			price = "$48.00"
			compare_at = "$72.00"
			savings = "33%"
			description = "two flats, and two loafers."
			$('#bundle_flats, #bundle_flats2, #bundle_wloafer, #bundle_wloafer2').show(); 	
			photo_collection = ""
			break;
		case "6":
			title = "The Women’s Closet Pack"
			price = "$60.00"
			compare_at = "$90.00"
			savings = "33%"
			description = "two flats, one loafer, one sneaker, and one heel."
			$('#bundle_wloafer, #bundle_wsneaker, #bundle_flats, #bundle_flats2, #bundle_heels').show(); 
			photo_collection = ""
			break;
		case "7":
			title = "The Casual Pack Lite"
			price = "$42.00"
			compare_at = "$54.00"
			savings = "22%"
			description = "two flats, and one loafer."
			$('#bundle_flats, #bundle_flats2, #bundle_wloafer').show(); 	
			photo_collection = ""
			break;
		case "8":
			title = "The Office Pack Lite"
			price = "$42.00"
			compare_at = "$54.00"
			savings = "22%"
			description = "two flats, and one heel."
			$('#bundle_flats, #bundle_flats2, #bundle_heels').show(); 
			photo_collection = ""
			break;
		case "9":
			title = "The Laceless"
			price = "$42.00"
			compare_at = "$54.00"
			savings = "22%"
			description = "one loafer, one flat, one heel."
			$('#bundle_wloafer, #bundle_flats, #bundle_heels').show()
			photo_collection = ""
			break;
		case "10":
			title = "The Couples Pack"
			price = "$60.00"
			compare_at = "$90.00"
			savings = "33%"
			description = "one men's loafer, one men's sneaker, one women's flat, one woman's loafer and woman's sneaker"
			$('#bundle_wloafer, #bundle_wsneaker, #bundle_flats, #bundle_heels, #bundle_mloafer, #bundle_msneaker').show()		
			photo_collection = ""
			break;
		case "11":
			title = "The Shoe Lover"
			price = "$70.00"
			compare_at = "$108.00"
			savings = "35%"
			description = "two women's flats, two women's sneakers, two women's loafers."
			photo_collection = ""
			$('#bundle_flats, #bundle_flats2, #bundle_wloafer, #bundle_wloafer2, #bundle_wsneaker, #bundle_wsneaker2').show(); 	
			break;
		case "12":
			title = "The Flats Pack"
			price = "$48.00"
			compare_at = "$72.00"
			savings = "33%"
			description = "four women's flats."
			photo_collection = ""
			$('#bundle_flats, #bundle_flats2, #bundle_flats3, #bundle_flats4').show(); 	
			break;
		// case "13":
		// 	title = ""
		// 	price = ""
		// 	savings = ""
		// 	description = ""
		// 	photo_collection = ""
		// 	break;

	}


	$('#bundle_title').text(title); 
	$('#bundle_price').text(price)
	$('#bundle_compare_at_price').text(compare_at)
	$('#bundle_savings').text(savings)
	$('#bundle_description').text(description)





	$('#custom-pack-size').change(function() {
		$('#featured-image').addClass('abs')
		$('#featured-image').animate({height: '+=2%', width: '+=2%'}, 200, function() {
			$('#featured-image').animate({height: '-=2%', width: '-=2%'}, 200)
			$('#featured-image').removeClass('abs')
		})
	}); 
	
</script>

<script>
  Shopify.queue = [];

  Shopify.moveAlong = function() {
    // If we still have requests in the queue, let's process the next one.
    console.log(Shopify.queue.length)
    if (Shopify.queue.length) {
      var request = Shopify.queue.shift();
      // pass the properties into addItem as well
      Shopify.addItem(request.variantId, request.quantity, Shopify.moveAlong);
    }
    // If the queue is empty, we will redirect to the cart page.
    else {
      document.location.href = '/cart';
    }
  };

  // Create a new Shopify.addItem function that takes the 'properties' parameter
  Shopify.addItem = function(id, qty, properties, callback) {
    var params = {
      quantity: qty,
      id: id
    };
    if(properties != false){
      params.properties = properties;
    }
    $.ajax({
      type: 'POST',
      url: '/cart/add.js',
      dataType: 'json',
      data: params,
      success: function(){
        if(typeof callback === 'function'){
          callback();

        }
      },
      error: function(){}
    });
  }

  function push_to_queue(variantID, quantity) {
    Shopify.queue.push({
      variantId: variantID,
      quantity: quantity
    });
  }

  	$('#add-cart-custom').click(function() {
  		var size = $('#custom-pack-size option:selected').text(); 
      console.log(size)
  		$('#add-cart-custom').css("background-color", "lightgray").html("<span>adding...</span>")
		$( ".bundle-color-selection.highlight:visible" ).each(function() {
			var variantSelected = $(this).data('variant-id-' + size)
      console.log(variantSelected)
      push_to_queue(variantSelected, 1)

		 }); 
		Shopify.moveAlong()
 	}); 
</script>




